__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;function n(){const o=t(r(d[1]));return n=function(){return o},o}function o(){const t=r(d[2]);return o=function(){return t},t}function u(){const t=r(d[3]);return u=function(){return t},t}function s(){const t=r(d[4]);return s=function(){return t},t}function c({matchAndLocation:t,variables:n,usePOSTForQuery:o,maxAge:u,niobeClient:s,getQuery:c,getSkip:l,getContext:f,getDedupePolicy:p,getFetchPolicy:v,getHeaders:P,getIsDeferrableQuery:h,getSignal:y,getEnableAppSessionInstrumentation:b,ssr:k=!0,query:I,args:T,isBotRequest:R,isPrefetch:Q}){const q=l?.(t,...T)??(!1===k&&!1),A=f?.(t,...T),C=p?.(t,...T),S=v?.(t,...T),B=P?.(t,...T),L=y?.(t,...T),O=b?.(t,...T),x=h?.(t,...T)&&!R;return(Q?s.prefetchPreloadQuery.bind(s):s.preloadQuery.bind(s))({query:c?.(t,...T)??I,...void 0!==q?{skip:q}:{},...void 0!==o?{usePOSTForQuery:o}:{},...void 0!==n?{variables:n}:{},...void 0!==A?{context:A}:{},...void 0!==C?{dedupePolicy:C}:{},...void 0!==S?{fetchPolicy:S}:{},...void 0!==B?{headers:B}:{},...void 0!==L?{signal:L}:{},...void 0!==u?{maxAge:u}:{},...void 0!==O?{enableAppSessionInstrumentation:O}:{},...void 0!==x?{deferrable:x}:{}})}function l(t,l){const{getVariables:f,makeProps:p,consumerId:v,shouldUsePreviousPrepareProps:P}=t,h=({provide:n})=>{n((0,u().keyOf)(s().NiobeInitialMatchedRouteQueryRefsToken,v),[s().NiobeClientToken,o().InitialMatchedRouteToken,o().IsBotRequestToken,o().IsPrefetchToken,o().RedirectUnauthenticatedToken,...l],async(n,o,u,s,l,...p)=>{const v={...o,match:o.match,previousProps:null,previousLocation:null},P=f?.(v,...p),h=c({matchAndLocation:v,variables:P,niobeClient:n,args:p,isBotRequest:u,isPrefetch:s,...t});return h},{lazy:!1})},y=(0,n().default)([(0,u().keyOf)(s().NiobeInitialMatchedRouteQueryRefsToken,v),s().NiobeClientToken,o().IsBotRequestToken,o().IsPrefetchToken,...l],async(n,o,u,s,...l)=>{let v=null,h=null;return n=>{const y={...n,match:n.match,previousProps:v,previousLocation:h},b=f?.(y,...l);if(v&&P?.(b,v,h,y,...l))return v;const k=p(c({matchAndLocation:y,variables:b,niobeClient:o,args:l,isBotRequest:u,isPrefetch:s,...t}),y,...l);return v=k,h=n.location,k}},{trace:!0,consumerId:v});return t=>{y(t),h(t)}}Object.defineProperty(e,"__esModule",{value:!0}),e.injectPreloadedQueryProps=function(t){return l(t,[])},e.injectPreloadedQueryPropsWithDependencies=l},"2374e4",["ba7a76","3dbc1a","b51a5d","cd87be","5beacb"]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MESSAGING_URLS=void 0,e.isExperienceHostURL=function(t,s){return!('true'!==s?.exp_host&&'experience_host'!==s?.inbox_type&&!t?.startsWith('/messaging/exp-host'))},e.isHostURL=function(t,s){return!('true'!==s?.host&&'host'!==s?.inbox_type&&!t?.startsWith('/hosting/thread')&&!t?.startsWith('/messaging/hosting'))};var t=r(d[0]);t.InboxType.EXPERIENCE_HOST,t.InboxType.HOST,t.InboxType.GUEST,e.MESSAGING_URLS={[t.InboxType.EXPERIENCE_HOST]:t=>t?`/messaging/exp-host/thread/${t}`:'/hosting/inbox/exp',[t.InboxType.HOST]:t=>t?`/hosting/thread/${t}`:'/hosting/inbox',[t.InboxType.GUEST]:t=>t?`/guest/thread/${t}`:'/inbox'}},"529ec9",["a5723b"]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TYPING_TIMEOUT=e.STROKE_WIDTH=e.SEND_STATUS=e.SEND_IMAGE_STANDARD_ACTION=e.QUOTED_MESSAGE_DATA_NAME=e.OPEN_GALLERY_MODAL=e.OPEN_CAROUSEL_PLAYER=e.MORE_COMPOSE_BAR_MENU_PORTAL_ID=e.MORE_COMPOSE_BAR_ACTIONS_BUTTON_ALT=e.MORE_COMPOSE_BAR_ACTIONS_BUTTON=e.MESSAGING_THREAD_CONTAINER_NAME=e.MESSAGE_SHIMMER=e.MESSAGE_INTERVAL_THRESHOLD=e.MESSAGE_CONTENT_DATA_NAME=e.MESSAGE_CONTENT=e.MESSAGE_CONTAINER=e.MESSAGE_BOTTOM_MARGIN=e.MARK_THREAD_READ_DELAY=e.MARGIN_BOTTOM_LAST_ITEM=e.InboxType=e.IMAGE_FILE_TYPES=e.DrawingState=e.DEFAULT_PROFILE_PIC=e.CARD_MAX_WIDTH=e.AVATAR_SIZE=e.AVATAR_DATA_NAME=e.ALL_FILE_TYPES=void 0;e.MESSAGE_BOTTOM_MARGIN=10,e.DEFAULT_PROFILE_PIC='https://a0.muscache.com/defaults/user_pic-225x225.png?v=3',e.MESSAGE_INTERVAL_THRESHOLD=18e5,e.MARK_THREAD_READ_DELAY=1e3,e.MORE_COMPOSE_BAR_ACTIONS_BUTTON='left-panel-icon-button',e.MORE_COMPOSE_BAR_ACTIONS_BUTTON_ALT='left-panel-icon-button-alt',e.MORE_COMPOSE_BAR_MENU_PORTAL_ID='messaging-compose-bar-menu-portal',e.SEND_IMAGE_STANDARD_ACTION='messaging__open_image_upload_dialog';const _=e.IMAGE_FILE_TYPES=['image/jpg','image/jpeg','image/png','image/gif'];e.ALL_FILE_TYPES=[..._,'video/mp4','video/mov','video/quicktime'],e.MESSAGE_CONTENT='--message-content',e.MESSAGE_CONTAINER='--message-container',e.MESSAGE_SHIMMER='--card-shimmer-transition',e.TYPING_TIMEOUT=8e3,e.SEND_STATUS={DRAFT:'draft',FAILED:'failed',NONE:'none',SENDING:'sending',SENT:'sent'},e.InboxType={GUEST:'guest',HOST:'host',EXPERIENCE_HOST:'experience_host',AIRWAVE:'airwave',AGENT_TICKETS:'agent_tickets',UNKNOWN:'unknown'},e.MESSAGING_THREAD_CONTAINER_NAME='message-thread-container',e.CARD_MAX_WIDTH=280,e.MARGIN_BOTTOM_LAST_ITEM=16,e.AVATAR_DATA_NAME='message-avatar',e.MESSAGE_CONTENT_DATA_NAME='message-content-wrapper',e.QUOTED_MESSAGE_DATA_NAME='quoted-message-wrapper',e.AVATAR_SIZE=32,e.DrawingState={ROOT_VIEWER:0,ROOT_NON_VIEWER:1,SUB_ROOT_VIEWER_HAS_NEXT_AND_NEXT_IS_VIEWER:2,SUB_ROOT_VIEWER_HAS_NEXT_AND_NEXT_IS_NON_VIEWER:3,SUB_ROOT_NON_VIEWER_HAS_NEXT:4,SUB_ROOT_VIEWER_NO_NEXT:5,SUB_ROOT_NON_VIEWER_NO_NEXT:6,BETWEEN_VIEWER_NEXT_IS_VIEWER:7,BETWEEN_VIEWER_NEXT_IS_NON_VIEWER:8,BETWEEN_NON_VIEWER:9,LAST_VIEWER:10,LAST_NON_VIEWER:11,NONE:12},e.STROKE_WIDTH=2,e.OPEN_GALLERY_MODAL='messaging__open_gallery',e.OPEN_CAROUSEL_PLAYER='messaging__open_carousel_player'},"a5723b",[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={name:'Header',type:'query',operationId:'d5f93e84f8a155b9d904b7e634aa2ce181dec394af5c75382a713495d8045d2b'}},"b4ed06",[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;function n(){const o=t(r(d[1]));return n=function(){return o},o}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(d[2]),s=r(d[3]),c=r(d[4]);function u(){const t=r(d[5]);return u=function(){return t},t}var l=t(r(d[6]));const p=(0,u().injectPreloadedQueryPropsWithDependencies)({query:l.default,getVariables:({location:t},n,s,c)=>{const u=(0,o.getRenderingState)(),l='server-render'===u||'client-hydration'===u;let p=s;return'client-render'!==u&&'/'===t.pathname&&(p=!0),'pdp-platform'===c&&'client-render'!==u&&(p=!0),{cdnCacheSafe:p,hasLoggedIn:'1'===n('hli').value,isInitialLoad:l,source:'EXPLORE',supportsM13ListingsSetupFlow:!0}},getSkip:({location:t},s,u)=>{const l=n().default.parse(t.search),p=(0,o.getRenderingState)();let h=!1;return t.pathname.match(/experiences\/\d+/)&&'client-render'!==p&&(h=!0),t.pathname.match(/book\/(experiences|stays)\/\d+/)&&(h=!0),'/giftcards'===t.pathname&&(h=!0),h||(0,c.isHostURL)(t.pathname,l)||(0,c.isExperienceHostURL)(t.pathname,l)},makeProps:t=>({headerQueryRef:t}),consumerId:'PrepareHeaderQuery'},[s.ReadCookieToken,s.IsCDNCachedToken,s.CustomProjectNameToken]);e.default=p},"c809a3",["ba7a76","e950a3","9f22cd","b51a5d","529ec9","2374e4","b4ed06"]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/frontend/guest-header/query/HeaderQuery.prepare.376b1e3d43.js.map