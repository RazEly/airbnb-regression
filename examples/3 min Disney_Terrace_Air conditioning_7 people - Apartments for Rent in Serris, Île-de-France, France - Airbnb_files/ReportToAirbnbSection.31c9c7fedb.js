__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]),o=r(d[1]);e.PdpStaysSectionComparisonComponent={defaultProps:{schema:'com.airbnb.jitney.event.logging.Pdp:PdpStaysSectionComparisonComponentEvent:1.0.0',logging_id:'pdp.stays.sectionComparison'},propTypes:{}},e.PdpStaysSectionComparisonComponentEvent=function(t){var p=null==t?{}:t;return p.__processing_context__={client_api:o.ClientApi.SCHEMATIZED_MAGICAL_LOGGING_API},{loggingID:'pdp.stays.sectionComparison',eventData:p,eventDataSchema:n.StaysSectionComparisonData}}},"1593ec",["b74ab0","253861"]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]).default;function t(){const n=r(d[1]);return t=function(){return n},n}function o(){const n=r(d[2]);return o=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.logJitneyImpressionEvent=function({componentName:n="UnknownComponent",eventData:c,eventDataSchema:s,loggingID:l}){u.default.logJitneyEvent({schema:o().UniversalComponentImpressionEvent,event_data:{uuid:(0,t().v4)(),logging_id:l,ancestor_logging_ids:[],ancestor_uuids:[],event_data:JSON.stringify(c),event_data_schema:s?.fullyQualifiedName,component:n}})};var u=n(r(d[3]))},"1e07b6",["ba7a76","305dd5","15a5fe","c8b97a"]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=r(d[0]);Object.keys(t).forEach(function(n){"default"!==n&&"__esModule"!==n&&(n in e&&e[n]===t[n]||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}}))})},"2977e7",["c0cb7b"]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=r(d[0]),o=(r(d[1]),r(d[2])),n=r(d[3]),s=r(d[4]),c=r(d[5]),l=r(d[6]),u=r(d[7]),p=r(d[8]);e.default=function(f){const b=(0,t.c)(15),{section:S,platformNetworkStatus:T,sectionComponentType:w,sectionId:I}=f,y=(0,n.useListingId)(),M=(0,o.useDemandStayListingSectionData)();let D;b[0]!==y||b[1]!==S?(D=()=>(0,c.gpReportToAirbnbSectionDataTransformer)({data:S,listingId:y}),b[0]=y,b[1]=S,b[2]=D):D=b[2];const V=D;let _;b[3]!==M||b[4]!==y?(_=()=>(0,u.reportToAirbnbSectionDataTransformer)({data:M,listingId:y}),b[3]=M,b[4]=y,b[5]=_):_=b[5];const v=_;let A;b[6]!==v||b[7]!==V||b[8]!==y||b[9]!==T||b[10]!==w||b[11]!==I?(A={createGpViewModel:V,createEntityViewModel:v,sectionComponentType:w,sectionId:I,listingId:y,platformNetworkStatus:T},b[6]=v,b[7]=V,b[8]=y,b[9]=T,b[10]=w,b[11]=I,b[12]=A):A=b[12];const j=(0,s.useViewModelMigration)(A);let k;return b[13]!==j?(k=(0,p.jsx)(l.ReportToAirbnbSectionView,{...j}),b[13]=j,b[14]=k):k=b[14],k}},"5686e9",["87eb11","07aa1f","81c9c3","bfa342","c64c89","fc7123","da32f6","969f67","b8c07d"]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0});var n=r(d[0]),o=r(d[1]);e.PdpStaysSectionComparisonFailureComponent={defaultProps:{schema:'com.airbnb.jitney.event.logging.Pdp:PdpStaysSectionComparisonFailureComponentEvent:1.0.0',logging_id:'pdp.stays.sectionComparisonFailure'},propTypes:{}},e.PdpStaysSectionComparisonFailureComponentEvent=function(t){var p=null==t?{}:t;return p.__processing_context__={client_api:o.ClientApi.SCHEMATIZED_MAGICAL_LOGGING_API},{loggingID:'pdp.stays.sectionComparisonFailure',eventData:p,eventDataSchema:n.StaysSectionComparisonFailureData}}},"61cf62",["a991cd","253861"]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useViewModelDebugging=function(n){const s=(0,t.c)(9),{sectionComponentType:u,sectionId:l,shouldUseEntityData:c,shouldDiffViewModels:f,gpViewModel:p,entityViewModel:w,platformNetworkStatus:M}=n;let y,V;s[0]!==w||s[1]!==p||s[2]!==M||s[3]!==u||s[4]!==l||s[5]!==f||s[6]!==c?(y=()=>{},V=[u,w,p,M,l,f,c],s[0]=w,s[1]=p,s[2]=M,s[3]=u,s[4]=l,s[5]=f,s[6]=c,s[7]=y,s[8]=V):(y=s[7],V=s[8]);(0,o.useEffect)(y,V)};var t=r(d[0]),o=r(d[1]);r(d[2])},"8f8484",["87eb11","07aa1f","eafd0a"]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.reportToAirbnbSectionDataTransformer=function({data:t,listingId:p}){return{title:'REPORTED'===t?.reportedStatusForViewer?o.default.t('merlin.pdp_sections.policies.reported'):o.default.t('merlin.pdp_sections.policies.report_button_copy'),icon:'COMPACT_REPORT_LISTING',listingId:p,loggingEventData:(0,n.createLoggingEventData)({section:'reportToAirbnb',component:'report'})}};var o=t(r(d[1])),n=r(d[2])},"969f67",["ba7a76","a9f4b1","b950b4"]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0});var t=e.StaysSectionComparisonFailureData={defaultProps:{},propTypes:{}};t.fullyQualifiedName='Pdp.v1.StaysSectionComparisonFailureData';e.StaysSectionComparisonFailureDataEvent=function(n){return{eventData:n,eventDataSchema:t}}},"a991cd",[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useViewModelDiffing=function(o){const p=(0,t.c)(12),{gpViewModel:s,entityViewModel:f,shouldDiffViewModels:u,sectionId:v,sectionComponentType:V,listingId:_,platformNetworkStatus:w}=o,I=(0,l.useSectionMetadataContext)();let C;p[0]!==I?(C=y(I),p[0]=I,p[1]=C):C=p[1];const h=C;let E,S;p[2]!==f||p[3]!==s||p[4]!==_||p[5]!==h||p[6]!==w||p[7]!==V||p[8]!==v||p[9]!==u?(E=()=>{u&&_&&"ready"===w&&null!==s&&null!==f&&c.scheduler.postTask(()=>M({sectionId:v,componentName:V,gpViewModel:s,entityViewModel:f,listingId:_,pdpType:h}),{event:"all-settled",priority:"background"})},S=[V,u,f,s,_,w,v,h],p[2]=f,p[3]=s,p[4]=_,p[5]=h,p[6]=w,p[7]=V,p[8]=v,p[9]=u,p[10]=E,p[11]=S):(E=p[10],S=p[11]);(0,n.useEffect)(E,S)};var t=r(d[0]),n=r(d[1]);function o(){const t=r(d[2]);return o=function(){return t},t}function p(){const t=r(d[3]);return p=function(){return t},t}var s=r(d[4]),l=r(d[5]),c=r(d[6]),f=r(d[7]),u=r(d[8]);function y(t){return t?.isElvisListing?3:'HOTEL'===t?.pdpType&&t?.loggingContext?.eventDataLogging?.propertyId?2:'HOTEL'!==t?.pdpType||t?.loggingContext?.eventDataLogging?.propertyId?1:4}function M({sectionId:t,componentName:n,gpViewModel:l,entityViewModel:c,listingId:y,pdpType:M}){const v=(0,f.deepDiff)(l,c),V=`${n}-${t}`;if((0,u.logJitneyImpressionEvent)({...(0,o().PdpStaysSectionComparisonComponentEvent)({pdp_id:y,section_identifier:V,pdp_type:M}),componentName:'useViewModelDiffing'}),0===v.length)return;const _={};for(const t of v)_[t.path]={gpModel:t.gpValue,entityModel:t.entityValue};const w=JSON.stringify(_,(t,n)=>void 0===n?null:n),I=(0,s.hashCode)(w).toString(36);(0,u.logJitneyImpressionEvent)({...(0,p().PdpStaysSectionComparisonFailureComponentEvent)({pdp_id:y,section_identifier:V,diff_string:w,diff_hash:I,pdp_type:M}),componentName:'useViewModelDiffing'})}},"a9b3c6",["87eb11","07aa1f","1593ec","61cf62","43bf80","9546c2","a2c93f","eafd0a","1e07b6"]);
__d(function(g,r,i,a,m,e,d){'use strict';Object.defineProperty(e,"__esModule",{value:!0});var t=e.StaysSectionComparisonData={defaultProps:{},propTypes:{}};t.fullyQualifiedName='Pdp.v1.StaysSectionComparisonData';e.StaysSectionComparisonDataEvent=function(n){return{eventData:n,eventDataSchema:t}}},"b74ab0",[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createLoggingEventData=function({section:n,component:t,useNullExperiments:o=!1}){return{__typename:'LoggingEventData',component:t,eventData:null,eventDataSchemaName:null,experiments:o?null:[],loggingId:`pdp.${n}.${t}`,section:n}}},"b950b4",[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.useListingId=function(){const[n]=(0,t.useContextCreator)();return n?.urlInfo?.urlParams?.id};var t=r(d[0])},"bfa342",["ffc280"]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USER_FLAG_TEXT_AREA_CHAR_LIMIT=e.RESERVATION_STATUS=e.PAGE_WITH_FLAG_ICON=e.PAGE_TYPES=e.PAGE_NAMES=e.NEXT_STEP_TYPES=e.FLOWS_WITH_REDESIGN=e.FLAGGABLE_TYPE_TO_TOUCHPOINT_MAP=e.FLAGGABLE_TYPES=e.FLAGGABLE_RESOURCE_NAMES=e.BUTTON_ACTIONS=void 0;e.PAGE_NAMES={TRIP_ISSUE:'trip_issue',CONTACT_AIRBNB:'contact_airbnb',LOADING:'loading',INTRODUCTION:'introduction',BLOCK_USER:'block_user',REQUEST_HELP:'get_immediate_safety_help'},e.RESERVATION_STATUS={ACCEPTED:'accepted',PENDING:'pending'};const _='Hosting',E='Faq',T='Review',A='Pensieve',o='Messaging::BessieMessage',t='Messaging::BessieThread',S='User',I='ContextualUser',O='Guidebook',s='GuidebookTip',N='Experience',R='Service';e.FLAGGABLE_TYPE_TO_TOUCHPOINT_MAP={[_]:'listing_id',[E]:'faq_id',[T]:'review_id',[A]:'pensieve_id',[o]:'post_id',[t]:'message_thread_id',[S]:'user_id',[I]:'contextual_user_id',[O]:'guidebook_id',[s]:'guidebook_tip_id',[N]:'experience_id',[R]:'service_id'},e.BUTTON_ACTIONS={NONE_OF_THESE:'none_of_these',SUBMIT_FORM:'submit_form',SEND_FEEDBACK:'send_feedback',BLOCK_USER:'block_user'},e.FLAGGABLE_RESOURCE_NAMES={LISTING:'report_listing',LISTING_REVIEW:'report_listing_review',PENSIEVE:'report_pensieve',MEDIA_REVIEW:'report_media_review',MESSAGE_THREAD:'report_message_thread',MESSAGE_POST:'report_message_post',USER:'report_profile',USER_BLOCK:'report_profile_after_block',GUIDEBOOK:'report_guidebook',EXPERIENCE:'report_experience',SERVICE:'report_service'},e.FLAGGABLE_TYPES={HOSTING:_,PENSIEVE:A,MESSAGE_POST:o,MESSAGE_THREAD:t,USER:S,CONTEXTUAL_USER:I,REVIEW:T,GUIDEBOOK:O,GUIDEBOOK_TIP:s,EXPERIENCE:N,SERVICE:R},e.NEXT_STEP_TYPES={PAGE:'page',URL:'url',DEEP_LINK:'deep_link'},e.USER_FLAG_TEXT_AREA_CHAR_LIMIT=1e3,e.PAGE_TYPES={INTRODUCTION:'introduction',CONFIRMATION:'confirmation',CONFIRMATION_FEEDBACK:'confirmation_feedback',CHECKBOX:'checkbox',RADIO_BUTTON:'radio_button',TEXTAREA:'textarea',TAGS:'tags',ACTION:'action',FEEDBACK_TEXTAREA:'feedback_textarea'},e.PAGE_WITH_FLAG_ICON=['introduction','offensive'],e.FLOWS_WITH_REDESIGN=['report_profile','report_profile_after_block']},"c0cb7b",[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.useViewModelMigration=function(t){const u=(0,o.c)(27);let{createGpViewModel:M,createEntityViewModel:N,sectionComponentType:f,sectionId:w,listingId:p,platformNetworkStatus:V}=t;f=f??"UNKNOWN_COMPONENT_TYPE",w=w??"UNKNOWN_SECTION_ID";const _=(0,l.useSectionDataSourceMode)(f),D=_===l.SectionDataSourceMode.ENTITY_ONLY,S=_===l.SectionDataSourceMode.GP_AND_ENTITY;let T,I;u[0]!==M||u[1]!==D?(I=D?null:M(),u[0]=M,u[1]=D,u[2]=I):I=u[2];T=I;const y=T;let E,O;u[3]!==N||u[4]!==S||u[5]!==D?(O=D||S?N():null,u[3]=N,u[4]=S,u[5]=D,u[6]=O):O=u[6];E=O;const C=E;let P;u[7]!==y?(P=()=>y,u[7]=y,u[8]=P):P=u[8];const Y=(0,n.default)(P,y);let h;u[9]!==C?(h=()=>C,u[9]=C,u[10]=h):h=u[10];const k=(0,n.default)(h,C);let v,U;u[11]!==k||u[12]!==Y||u[13]!==V||u[14]!==f||u[15]!==w||u[16]!==S||u[17]!==D?(v={sectionComponentType:f,sectionId:w,shouldUseEntityData:D,shouldDiffViewModels:S,gpViewModel:Y,entityViewModel:k,platformNetworkStatus:V},u[11]=k,u[12]=Y,u[13]=V,u[14]=f,u[15]=w,u[16]=S,u[17]=D,u[18]=v):v=u[18];(0,s.useViewModelDebugging)(v),u[19]!==k||u[20]!==Y||u[21]!==p||u[22]!==V||u[23]!==f||u[24]!==w||u[25]!==S?(U={gpViewModel:Y,entityViewModel:k,shouldDiffViewModels:S,sectionId:w,sectionComponentType:f,listingId:p,platformNetworkStatus:V},u[19]=k,u[20]=Y,u[21]=p,u[22]=V,u[23]=f,u[24]=w,u[25]=S,u[26]=U):U=u[26];return(0,c.useViewModelDiffing)(U),Y??k};var o=r(d[1]),n=(r(d[2]),t(r(d[3]))),l=r(d[4]),s=r(d[5]),c=r(d[6])},"c64c89",["ba7a76","87eb11","07aa1f","54d92b","cf0bd6","8f8484","a9b3c6"]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BEHAVIORS=void 0;var t=r(d[0]),s=r(d[1]),n=r(d[2]);const o=e.BEHAVIORS={HIDE:'hide',LOADING:'loading',REPLACE:'replace',NONE:'none'},l={behavior:o.REPLACE};class h extends t.Component{constructor(...t){super(...t),this.state={mounted:!1}}componentDidMount(){this.setState({mounted:!0})}render(){const{mounted:t}=this.state,{children:s,behavior:l=o.HIDE,css:h,styles:c,initialChildren:u}=this.props;return l!==o.LOADING||t?l===o.REPLACE&&u&&!t?(0,n.jsx)(n.Fragment,{children:u}):l===o.NONE?(0,n.jsx)(n.Fragment,{children:s}):(0,n.jsxs)(n.Fragment,{children:[t&&s," "]}):(0,n.jsxs)("div",{...h(c.with_loading),children:[(0,n.jsx)("div",{...h(c.mask)}),(0,n.jsx)("div",{...h(c.disabled),children:s})]})}}h.defaultProps=l;const c=(0,s.withStyles)(()=>({with_loading:{position:'relative',display:'inline-block',cursor:'progress',height:'auto',width:'auto',opacity:.5},mask:{position:'absolute',width:'100%',height:'100%',cursor:'progress',zIndex:1},disabled:{pointerEvents:'none'}}))(h);e.default=c},"d8977d",["07aa1f","e0b084","b8c07d"]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default,n=r(d[1]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.ReportToAirbnbSectionView=function(t){const n=(0,_.c)(27),{title:T,icon:I,listingId:A,loggingEventData:E}=t,L=(0,c.useCx)(),[N,y]=(0,l.useState)(!1);let G;n[0]===Symbol.for("react.memo_cache_sentinel")?(G=()=>{p.default.isLoggedIn()?y(!0):(0,b.openSignupOrLoginModal)({authTriggerType:f.AuthTriggerTypes.REPORT_LISTING,onFinishedFlow:()=>y(!0)})},n[0]=G):G=n[0];const w=G;let O;n[1]!==E?(O=(0,u.default)(E),n[1]=E,n[2]=O):O=n[2];const R=O;let z,F,P,B,C,M,k,q,D;n[3]!==L?(z=L(v.container),n[3]=L,n[4]=z):z=n[4];n[5]!==L?(F=L(v.buttonWrapper),n[5]=L,n[6]=F):F=n[6];n[7]!==L||n[8]!==I?(P=I&&(0,S.jsx)("span",{className:L(v.icon),children:(0,S.jsx)(h.default,{icon:I,size:16})}),n[7]=L,n[8]=I,n[9]=P):P=n[9];n[10]!==T?(B=(0,S.jsx)(o.default,{behavior:o.BEHAVIORS.LOADING,children:T}),n[10]=T,n[11]=B):B=n[11];n[12]!==F||n[13]!==P||n[14]!==B?(C=(0,S.jsxs)("span",{className:F,children:[P,B]}),n[12]=F,n[13]=P,n[14]=B,n[15]=C):C=n[15];n[16]!==R||n[17]!==C?(M=(0,S.jsx)(s.default,{onPress:w,...R,"data-testid":"user-flag-report-button",children:C}),n[16]=R,n[17]=C,n[18]=M):M=n[18];n[19]===Symbol.for("react.memo_cache_sentinel")?(k=()=>y(!1),n[19]=k):k=n[19];n[20]!==N||n[21]!==A?(q=(0,S.jsx)(j.default,{flaggableId:A,flaggableResourceName:x.FLAGGABLE_RESOURCE_NAMES.LISTING,flaggableType:x.FLAGGABLE_TYPES.HOSTING,onClose:k,visible:N}),n[20]=N,n[21]=A,n[22]=q):q=n[22];n[23]!==q||n[24]!==z||n[25]!==M?(D=(0,S.jsxs)("div",{className:z,children:[M,q]}),n[23]=q,n[24]=z,n[25]=M,n[26]=D):D=n[26];return D};var _=r(d[2]),l=(r(d[3]),r(d[4])),s=n(r(d[5])),o=t(r(d[6])),c=r(d[7]),u=(n(r(d[8])),r(d[9]),n(r(d[10]))),h=(r(d[11]),n(r(d[12]))),f=r(d[13]),b=r(d[14]),p=n(r(d[15])),j=n(r(d[16])),x=r(d[17]),S=r(d[18]);const v={container:"c12u2ww4 atm_h3_1tcgj5g__600n0r atm_r3_1h6ojuz__600n0r",buttonWrapper:"b164tl27 atm_h_1h6ojuz atm_9s_1txwivl atm_7l_1dmvgf5 atm_bx_nm7nsd atm_cs_1mexzig atm_c8_3w7ag0 atm_g3_1emqlh9 atm_fr_helst atm_c8_1h3mmnw__600n0r atm_g3_1vnrj90__600n0r atm_fr_b3emyl__600n0r atm_7l_1kkyeqd__600n0r",icon:"ivuh1h atm_h0_exct8b"}},"da32f6",["45f788","ba7a76","87eb11","ea4b89","07aa1f","3e8391","d8977d","4786a8","5aed2e","aabdb1","45d996","ad1abc","ce060d","5eb3f8","4798c3","06a99e","fc0f09","2977e7","b8c07d"]);
__d(function(g,r,_i,a,m,e,d){"use strict";function t(n,u,l,i){if(n===u)return i;if(null==n||null==u)return i.push({path:l,gpValue:n,entityValue:u}),i;if('object'!==typeof n||'object'!==typeof u)return i.push({path:l,gpValue:n,entityValue:u}),i;if(Array.isArray(n)&&Array.isArray(u)){n.length!==u.length&&i.push({path:`${l}.length`,gpValue:n.length,entityValue:u.length});const s=Math.max(n.length,u.length);for(let y=0;y<s;y++)t(n[y],u[y],`${l}[${y}]`,i);return i}if(Array.isArray(n)!==Array.isArray(u))return i.push({path:l,gpValue:n,entityValue:u}),i;const s=n,y=u,f=new Set([...Object.keys(s),...Object.keys(y)]);for(const n of f){const u=l?`${l}.${n}`:n;t(s[n],y[n],u,i)}return i}Object.defineProperty(e,"__esModule",{value:!0}),e.deepDiff=function(n,u,l="",i=[]){return t(n,u,l,i)}},"eafd0a",[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default,u=r(d[1]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return(0,f.jsx)(n.default,{loader:o,...t,renderPlaceholder:n.renderNull})};var l=u(r(d[0])),n=t(r(d[2])),f=r(d[3]);function o(){return r(d[5])(d[4]).then(l.default).then(t=>t.default||t)}},"fc0f09",["45f788","ba7a76","018c3b","b8c07d","70c6f6","057569"]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.gpReportToAirbnbSectionDataTransformer=function({data:t,listingId:n}){const{reportButton:o}=t;return{title:o?.title??void 0,icon:o?.icon??void 0,listingId:n,loggingEventData:o?.loggingEventData??void 0}}},"fc7123",[]);
__r("a9f4b1").extend({"merlin.pdp_sections.policies.reported":"Listing reported","merlin.pdp_sections.policies.report_button_copy":"Report this listing"});
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/frontend/gp-stays-pdp-sections/migrated-sections/ReportToAirbnbSection/ReportToAirbnbSection.99292955fe.js.map