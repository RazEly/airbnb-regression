__d(function(g,r,i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function({src:t,loop:c,autoplay:f,reverse:j,startFrame:p,endFrame:y,ariaLabel:h="",poster:b,width:C=90,height:q=80,playerRef:k,onLoaded:w,className:x,style:P}){const S=(0,s.useRef)(null),[,F]=(0,s.useState)(!1),[,L]=(0,s.useState)(!1),[N]=(0,s.useState)(()=>{const t='motion'===l.motionPreference.user.value;return f&&t}),R=(0,s.useCallback)(()=>F(!1),[]),z=(0,s.useCallback)(()=>{w?.()},[w]),{loading:E,error:M,player:O}=(0,n.default)(S,{src:t,isLooping:c??!1,autoplay:N,reverse:j,startFrame:p,endFrame:y,onPlayStateChange:F,onStopped:R,onLoaded:z,onReversedChange:L});(0,s.useEffect)(()=>{k&&O&&('function'==typeof k?k(O):k.current=O)},[k,O]);const A=(0,o.useCx)();return(0,u.jsxs)("div",{className:A(x,v.lavaContainer),style:P,children:[(0,u.jsx)("canvas",{ref:S,className:A(v.lavaCanvas),role:"img","aria-label":h,style:{display:E||M?'none':'block'}}),M&&(0,u.jsx)(_.default,{src:b,alt:h,linariaClassNames:{imageContainer:v.lavaPoster},width:C,height:q})]})};r(d[1]);var s=r(d[2]),l=r(d[3]),o=r(d[4]),_=t(r(d[5])),n=t(r(d[6])),u=r(d[7]);const v={lavaContainer:"l1oynwe6 atm_mk_h2mmj6 atm_9s_1ulexfb atm_ks_15vqwwr atm_1w_gbua2q",lavaCanvas:"lsofd5k atm_9s_1ulexfb atm_9j_tlke0l atm_j3_1osqo2v atm_iy_1osqo2v atm_jp_1dfr4pj atm_jr_1h6ojuz atm_1w_gbua2q atm_gi_xjk4d9",lavaPoster:"l13vtheq atm_14g8v6s_gbua2q atm_9s_1ulexfb atm_9j_tlke0l atm_j3_1osqo2v atm_iy_1osqo2v atm_jp_1dfr4pj atm_jr_1h6ojuz atm_wq_cs5v99"}},"10c77b",["ba7a76","ea4b89","07aa1f","daa5d1","4786a8","66b9a6","cde122","b8c07d"]);
__d(function(g,r,_i,a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t(r(d[1])),s=r(d[2]);function n(t,i,s){const n=t.createShader('vertex'===i?t.VERTEX_SHADER:t.FRAGMENT_SHADER);return n?(t.shaderSource(n,s),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(t.deleteShader(n),null)):null}function o(t,i){const s=t.createTexture(),{width:n}=i,{height:o}=i,h=()=>{t.bindTexture(t.TEXTURE_2D,s)};return s?(h(),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),{texture:s,width:n,height:o,bind:h}):null}class h{constructor(t,s){this.canvas=void 0,this.offscreenCanvas=void 0,this.useOffscreenCanvas=!1,this.gl=void 0,this.mainContext=void 0,this.glProgram=null,this.frameVertexBuffers=[],this.vertexBufferCache=new Map,this.diffsBuffer=null,this.textures=[],this.imageIsKeyFrame=[],this.destroyed=!1,this.manifest=null,this.currentFrameState=0,this.lastRenderedFrame=-1,this.renderScheduled=!1,this.emitter=new i.default,this.loaded=!1,this.images=[],this.loop=!0,this.reverse=!0,this.startFrame=1,this.endFrame=1,this.canvas=t,this.loop=s?.loop??!0,this.reverse=s?.reverse??!1,this.startFrame=s?.startFrame??1,this.endFrame=s?.endFrame??1;const n='undefined'!=typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent);this.useOffscreenCanvas=!n&&'undefined'!=typeof OffscreenCanvas&&'function'==typeof OffscreenCanvas.prototype.getContext;let o=null;const h=!n;if(this.useOffscreenCanvas?(this.offscreenCanvas=new OffscreenCanvas(t.width||1,t.height||1),o=this.offscreenCanvas.getContext('webgl',{alpha:!0,antialias:h,depth:!1,desynchronized:!0,powerPreference:'default',premultipliedAlpha:!0})):(this.offscreenCanvas=t,o=this.offscreenCanvas.getContext('webgl',{alpha:!0,antialias:h,depth:!1,desynchronized:!0,powerPreference:'default',premultipliedAlpha:!0})),!o)throw new Error('WebGL not supported');if(this.gl=o,this.useOffscreenCanvas){const i=t.getContext('2d');if(!i)throw new Error('2D context not supported');i.imageSmoothingEnabled=!1,this.mainContext=i}else this.mainContext=null;this.setupContextLossHandlers(),this.initializeWebGLResources()}initializeWebGLResources(){this.gl.clearColor(0,0,0,0),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.disable(this.gl.DITHER),this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);const t=n(this.gl,'vertex',"\nprecision highp float;\n\n// Attributes and uniforms\nattribute vec4 a_diff; // Input attribute containing texture cell, width, height, and frame cell\nuniform float u_cellSize; // Size of each cell\nuniform vec2 u_resolution; // Frame resolution\nuniform vec2 u_textureResolution; // Texture resolution\n\n// Varying to pass texture coordinates to the fragment shader\nvarying vec2 v_texUV;\n\nvoid main() {\n    // Extract values from the a_diff attribute\n    float textCellIndex = a_diff.x;\n    float cellsWidth = a_diff.y;\n    float cellsHeight = a_diff.z;\n    float frameCellIndex = a_diff.w;\n\n    // Calculate the number of cells that fit in the frame's width\n    float frameCellsWidth = ceil(u_resolution.x / u_cellSize);\n\n    // Calculate the frame's X position in normalized device coordinates (NDC)\n    float frameXOffset = mod(frameCellIndex, frameCellsWidth) + cellsWidth;\n    float frameX = -1.0 + (frameXOffset * u_cellSize / u_resolution.x) * 2.0;\n\n    // Calculate the frame's Y position in normalized device coordinates (NDC)\n    float frameYOffset = floor(frameCellIndex / frameCellsWidth) + cellsHeight;\n    float frameY = 1.0 + (frameYOffset * u_cellSize / u_resolution.y) * -2.0;\n\n    // Set the vertex position\n    gl_Position = vec4(frameX, frameY, 1.0, 1.0);\n\n    // Calculate the number of cells that fit in the texture's width\n    float texCellsWidth = ceil(u_textureResolution.x / u_cellSize);\n\n    // Calculate the texture coordinates\n    float texXOffset = mod(textCellIndex, texCellsWidth) + cellsWidth;\n    float texX = texXOffset * u_cellSize / u_textureResolution.x;\n\n    float texYOffset = floor(textCellIndex / texCellsWidth) + cellsHeight;\n    float texY = texYOffset * u_cellSize / u_textureResolution.y;\n\n    // Set the texture coordinates to be passed to the fragment shader\n    v_texUV = vec2(texX, texY);\n}\n  "),i=n(this.gl,'fragment',"\nprecision highp float;\n\nuniform sampler2D u_texture; // Texture to sample\nuniform vec2 u_resolution; // Frame resolution\nuniform vec4 u_borderColor; // Border color for out-of-bounds sampling\n\nvarying vec2 v_texUV; // Texture coordinates\n\nvoid main() {\n    // Check if texture coordinates are outside [0,1] range (CLAMP_TO_BORDER behavior)\n    if (v_texUV.x < 0.0 || v_texUV.x > 1.0 || v_texUV.y < 0.0 || v_texUV.y > 1.0) {\n        gl_FragColor = u_borderColor; // Use border color for out-of-bounds\n    } else {\n        gl_FragColor = texture2D(u_texture, v_texUV);\n    }\n}\n  "),s=this.gl.createProgram(),o=this.gl.createBuffer();if(!(s&&o&&t&&i))throw new Error('Failed to initialize WebGL program');if(this.glProgram=s,this.diffsBuffer=o,this.gl.attachShader(this.glProgram,t),this.gl.attachShader(this.glProgram,i),this.gl.linkProgram(this.glProgram),!this.gl.getProgramParameter(this.glProgram,this.gl.LINK_STATUS))throw this.gl.deleteProgram(this.glProgram),this.gl.deleteShader(t),this.gl.deleteShader(i),new Error('Failed to link WebGL program');this.gl.useProgram(this.glProgram),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.diffsBuffer)}setupContextLossHandlers(){const t=t=>{t.preventDefault(),this.destroyed=!1;const i=new Error('WebGL context was lost');this.handleRenderError(i)},i=()=>{try{this.initializeWebGLResources(),this.images.length>0&&this.reloadTextures(),this.loaded&&this.manifest&&this.renderFrame(this.currentFrameState)}catch(t){this.handleRenderError(t)}};this.canvas.addEventListener('webglcontextlost',t),this.canvas.addEventListener('webglcontextrestored',i),this.contextLostHandler=t,this.contextRestoredHandler=i}reloadTextures(){this.textures=[],this.images.forEach(t=>{const i=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength),s=new Blob([i],{type:'image/png'}),n=URL.createObjectURL(s),h=new Image;h.onload=()=>{const t=o(this.gl,h);t&&this.textures.push(t),URL.revokeObjectURL(n)},h.src=n})}on(t,i){this.emitter.on(t,i)}off(t,i){this.emitter.off(t,i)}get currentFrame(){return this.currentFrameState}set currentFrame(t){this.renderFrame(t)}get totalFrames(){return this.manifest?this.manifest.frameCount:1}async loadFromBinary(t){if(!this.destroyed&&!this.manifest)try{const i=new s.LavaFileDecoder(t),n=await i.decode();if(this.manifest=n.manifest,this.images=n.images,1===this.endFrame&&(this.endFrame=this.manifest.frameCount),this.destroyed)return;const h=2,l=this.manifest.width/h,f=this.manifest.height/h;if(this.canvas.style.width=`${l}px`,this.canvas.style.height=`${f}px`,this.canvas.width=this.manifest.width,this.canvas.height=this.manifest.height,this.offscreenCanvas.width=this.manifest.width,this.offscreenCanvas.height=this.manifest.height,this.gl.viewport(0,0,this.manifest.width,this.manifest.height),!this.glProgram)return void this.emitter.emit('error',new Error('WebGL program not initialized'));const c=this.gl.getUniformLocation(this.glProgram,'u_resolution'),u=this.gl.getUniformLocation(this.glProgram,'u_cellSize'),x=this.gl.getUniformLocation(this.glProgram,'u_borderColor'),v=this.gl.getAttribLocation(this.glProgram,'a_diff');this.gl.useProgram(this.glProgram),this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.gl.uniform2f(c,this.gl.canvas.width,this.gl.canvas.height),this.gl.uniform1f(u,this.manifest.cellSize),this.gl.uniform4f(x,0,0,0,0),this.gl.vertexAttribPointer(v,4,this.gl.UNSIGNED_SHORT,!1,0,0),this.gl.enableVertexAttribArray(v),this.imageIsKeyFrame=this.images.map(()=>!1),this.manifest.frames.forEach(t=>{'key'===t.type&&(this.imageIsKeyFrame[t.frame.imageIndex]=!0)}),await Promise.all(this.images.map(async(t,i)=>{if(!this.destroyed&&this.manifest){try{const s=new Blob([t]),n=URL.createObjectURL(s),h=new Image,l=new Promise((t,s)=>{h.onload=()=>{URL.revokeObjectURL(n),t(h)},h.onerror=()=>{URL.revokeObjectURL(n),s(new Error(`Failed to decode compressed image ${i}`))}});h.src=n;const f=await l,c=o(this.gl,f);if(!c)throw new Error(`Failed to compile texture from decoded image ${i}`);this.textures[i]=c}catch(t){return void this.emitter.emit('error',new Error(`Failed to decode image ${i}: ${t}`))}this.destroyed||0===i&&(this.renderFrame(this.startFrame),this.emitter.emit('firstFrameLoaded',this))}})),this.loaded=!0,this.emitter.emit('loaded',this),this.renderFrame(this.startFrame)}catch(t){this.emitter.emit('error',t)}}renderFrame(t){if(this.destroyed||!this.manifest||!this.loaded)return;if(!this.glProgram||!this.gl)return;const i=this.endFrame-this.startFrame+1;if(this.loop){const s=t-this.startFrame;t=(s%i+i)%i+this.startFrame}else t<this.startFrame&&(t=this.startFrame),t>this.endFrame&&(t=this.endFrame);(t!==this.currentFrameState||this.renderScheduled)&&(this.currentFrameState=t,this.renderScheduled=!1,this.scheduleRender(()=>{if(this.destroyed||!this.manifest||!this.loaded)return;this.gl.clear(this.gl.COLOR_BUFFER_BIT);const i=t-1,s=this.manifest.frames[i];if(!s)return;const{width:n}=this.manifest,{height:o}=this.manifest,{cellSize:h}=this.manifest;this.gl.useProgram(this.glProgram),this.gl.viewport(0,0,n,o),'key'===s.type?this.renderDiffs(()=>[[s.frame.imageIndex,0,Math.ceil(n/h),Math.ceil(o/h),0]]):this.renderDiffs(()=>s.frame.diffs),this.transferToMainCanvas(),this.emitter.emit('timeUpdate',this)}))}transferToMainCanvas(){this.lastRenderedFrame!==this.currentFrameState&&(this.useOffscreenCanvas&&this.mainContext&&(this.mainContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.mainContext.drawImage(this.offscreenCanvas,0,0)),this.lastRenderedFrame=this.currentFrameState)}renderDiffs(t){if(!this.manifest||!this.glProgram||!this.loaded)return;if(!this.frameVertexBuffers[this.currentFrameState]){const i=t(),s={};for(let t=0,n=i.length;t<n;t++){const n=i[t],o=n[0],h=n[1],l=n[2],f=n[3],c=n[4];s[o]||(s[o]=[]),s[o].push(h,0,0,c),s[o].push(h,l,f,c),s[o].push(h,l,0,c),s[o].push(h,0,0,c),s[o].push(h,l,f,c),s[o].push(h,0,f,c)}const n=Object.keys(s).map(t=>{const i=parseInt(t,10);return{imageIndex:i,buffer:new Uint16Array(s[i])}});this.frameVertexBuffers[this.currentFrameState]=n}const i=this.gl,s=i.getUniformLocation(this.glProgram,'u_texture'),n=i.getUniformLocation(this.glProgram,'u_textureResolution');i.useProgram(this.glProgram),i.uniform1i(s,0),i.enable(i.BLEND),i.blendFunc(i.ONE,i.ONE_MINUS_SRC_ALPHA),this.frameVertexBuffers[this.currentFrameState].forEach(({imageIndex:t,buffer:s})=>{const o=this.textures[t];if(!o)return;i.activeTexture(i.TEXTURE0),o.bind(),i.uniform2f(n,o.width,o.height),i.bufferData(i.ARRAY_BUFFER,s,i.STATIC_DRAW),i.drawArrays(i.TRIANGLES,0,s.length/4);const h=i.getError();h!==i.NO_ERROR&&this.handleRenderError(new Error(`WebGL error: ${h}`))}),i.disable(i.BLEND)}scheduleRender(t){this.renderScheduled||(this.renderScheduled=!0,h.renderQueue.push(t),h.processRenderQueue())}static processRenderQueue(){if(h.isProcessingQueue||0===h.renderQueue.length)return;h.isProcessingQueue=!0;const t=()=>{const i=Math.min(6,h.renderQueue.length);for(let t=0;t<i&&h.renderQueue.length>0;t++){const t=h.renderQueue.shift();t&&t()}h.renderQueue.length>0?requestAnimationFrame(t):h.isProcessingQueue=!1};requestAnimationFrame(t)}handleRenderError(t){this.emitter.emit('error',t)}destroy(){this.destroyed=!0,this.vertexBufferCache.clear();const t=this.contextLostHandler,i=this.contextRestoredHandler;if(t&&this.canvas.removeEventListener('webglcontextlost',t),i&&this.canvas.removeEventListener('webglcontextrestored',i),this.gl){const t=this.gl.getExtension('WEBGL_lose_context');t&&t.loseContext(),this.textures=[],this.diffsBuffer=null,this.glProgram=null}if(this.mainContext)this.mainContext.clearRect(0,0,this.canvas.width,this.canvas.height);else{const t=this.canvas.getContext('2d');t&&t.clearRect(0,0,this.canvas.width,this.canvas.height)}}}h.renderQueue=[],h.isProcessingQueue=!1;e.default=h},"2cf1e5",["ba7a76","509b43","e4e03e"]);
__d(function(g,_r,_i2,_a2,_m,_e2,_d2){"use strict";Object.defineProperty(_e2,"__esModule",{value:!0}),_e2.inflateSync=xt;var t={},n=function(n,i,e,r,s){var o=new Worker(t[i]||(t[i]=URL.createObjectURL(new Blob([n+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:'text/javascript'}))));return o.onmessage=function(t){var n=t.data,i=n.$e$;if(i){var e=new Error(i[0]);e.code=i[1],e.stack=i[2],s(e,null)}else s(null,n)},o.postMessage(e,r),o},i=Uint8Array,e=Uint16Array,r=Int32Array,s=new i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o=new i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),h=function(t,n){for(var i=new e(31),s=0;s<31;++s)i[s]=n+=1<<t[s-1];var o=new r(i[30]);for(s=1;s<30;++s)for(var a=i[s];a<i[s+1];++a)o[a]=a-i[s]<<5|s;return{b:i,r:o}},u=h(s,2),f=u.b,l=u.r;f[28]=258,l[258]=28;for(var c=h(o,0),p=c.b,v=c.r,d=new e(32768),y=0;y<32768;++y){var m=(43690&y)>>1|(21845&y)<<1;m=(61680&(m=(52428&m)>>2|(13107&m)<<2))>>4|(3855&m)<<4,d[y]=((65280&m)>>8|(255&m)<<8)>>1}var w=function(t,n,i){for(var r=t.length,s=0,o=new e(n);s<r;++s)t[s]&&++o[t[s]-1];var a,h=new e(n);for(s=1;s<n;++s)h[s]=h[s-1]+o[s-1]<<1;if(i){a=new e(1<<n);var u=15-n;for(s=0;s<r;++s)if(t[s])for(var f=s<<4|t[s],l=n-t[s],c=h[t[s]-1]++<<l,p=c|(1<<l)-1;c<=p;++c)a[d[c]>>u]=f}else for(a=new e(r),s=0;s<r;++s)t[s]&&(a[s]=d[h[t[s]-1]++]>>15-t[s]);return a},b=new i(288);for(y=0;y<144;++y)b[y]=8;for(y=144;y<256;++y)b[y]=9;for(y=256;y<280;++y)b[y]=7;for(y=280;y<288;++y)b[y]=8;var z=new i(32);for(y=0;y<32;++y)z[y]=5;var M=w(b,9,0),k=w(b,9,1),x=w(z,5,0),S=w(z,5,1),C=function(t){for(var n=t[0],i=1;i<t.length;++i)t[i]>n&&(n=t[i]);return n},A=function(t,n,i){var e=n/8|0;return(t[e]|t[e+1]<<8)>>(7&n)&i},T=function(t,n){var i=n/8|0;return(t[i]|t[i+1]<<8|t[i+2]<<16)>>(7&n)},q=function(t){return(t+7)/8|0},D=function(t,n,e){return(null==n||n<0)&&(n=0),(null==e||e>t.length)&&(e=t.length),new i(t.subarray(n,e))},E=['unexpected EOF','invalid block type','invalid length/literal','invalid distance','stream finished','no stream handler',,'no callback','invalid UTF-8 data','extra field too long','date not in range 1980-2099','filename too long','stream finishing','invalid zip data'],O=function(t,n,i){var e=new Error(n||E[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,O),!i)throw e;return e},I=function(t,n,e,r){var h=t.length,u=r?r.length:0;if(!h||n.f&&!n.l)return e||new i(0);var l=!e,c=l||2!=n.i,v=n.i;l&&(e=new i(3*h));var d=function(t){var n=e.length;if(t>n){var r=new i(Math.max(2*n,t));r.set(e),e=r}},y=n.f||0,m=n.p||0,b=n.b||0,z=n.l,M=n.d,x=n.m,E=n.n,I=8*h;do{if(!z){y=A(t,m,1);var U=A(t,m+1,3);if(m+=3,!U){var $=t[(W=q(m)+4)-4]|t[W-3]<<8,_=W+$;if(_>h){v&&O(0);break}c&&d(b+$),e.set(t.subarray(W,_),b),n.b=b+=$,n.p=m=8*_,n.f=y;continue}if(1==U)z=k,M=S,x=9,E=5;else if(2==U){var j=A(t,m,31)+257,F=A(t,m+10,15)+4,G=j+A(t,m+5,31)+1;m+=14;for(var L=new i(G),Z=new i(19),R=0;R<F;++R)Z[a[R]]=A(t,m+3*R,7);m+=3*F;var B=C(Z),H=(1<<B)-1,P=w(Z,B,1);for(R=0;R<G;){var W,Y=P[A(t,m,H)];if(m+=15&Y,(W=Y>>4)<16)L[R++]=W;else{var J=0,K=0;for(16==W?(K=3+A(t,m,3),m+=2,J=L[R-1]):17==W?(K=3+A(t,m,7),m+=3):18==W&&(K=11+A(t,m,127),m+=7);K--;)L[R++]=J}}var N=L.subarray(0,j),Q=L.subarray(j);x=C(N),E=C(Q),z=w(N,x,1),M=w(Q,E,1)}else O(1);if(m>I){v&&O(0);break}}c&&d(b+131072);for(var V=(1<<x)-1,X=(1<<E)-1,tt=m;;tt=m){var nt=(J=z[T(t,m)&V])>>4;if((m+=15&J)>I){v&&O(0);break}if(J||O(2),nt<256)e[b++]=nt;else{if(256==nt){tt=m,z=null;break}var it=nt-254;if(nt>264){var et=s[R=nt-257];it=A(t,m,(1<<et)-1)+f[R],m+=et}var rt=M[T(t,m)&X],st=rt>>4;rt||O(3),m+=15&rt;Q=p[st];if(st>3){et=o[st];Q+=T(t,m)&(1<<et)-1,m+=et}if(m>I){v&&O(0);break}c&&d(b+131072);var ot=b+it;if(b<Q){var at=u-Q,ht=Math.min(Q,ot);for(at+b<0&&O(3);b<ht;++b)e[b]=r[at+b]}for(;b<ot;++b)e[b]=e[b-Q]}}n.l=z,n.p=tt,n.b=b,n.f=y,z&&(y=1,n.m=x,n.d=M,n.n=E)}while(!y);return b!=e.length&&l?D(e,0,b):e.subarray(0,b)},U=function(t,n,i){i<<=7&n;var e=n/8|0;t[e]|=i,t[e+1]|=i>>8},$=function(t,n,i){i<<=7&n;var e=n/8|0;t[e]|=i,t[e+1]|=i>>8,t[e+2]|=i>>16},_=function(t,n){for(var r=[],s=0;s<t.length;++s)t[s]&&r.push({s:s,f:t[s]});var o=r.length,a=r.slice();if(!o)return{t:B,l:0};if(1==o){var h=new i(r[0].s+1);return h[r[0].s]=1,{t:h,l:1}}r.sort(function(t,n){return t.f-n.f}),r.push({s:-1,f:25001});var u=r[0],f=r[1],l=0,c=1,p=2;for(r[0]={s:-1,f:u.f+f.f,l:u,r:f};c!=o-1;)u=r[r[l].f<r[p].f?l++:p++],f=r[l!=c&&r[l].f<r[p].f?l++:p++],r[c++]={s:-1,f:u.f+f.f,l:u,r:f};var v=a[0].s;for(s=1;s<o;++s)a[s].s>v&&(v=a[s].s);var d=new e(v+1),y=j(r[c-1],d,0);if(y>n){s=0;var m=0,w=y-n,b=1<<w;for(a.sort(function(t,n){return d[n.s]-d[t.s]||t.f-n.f});s<o;++s){var z=a[s].s;if(!(d[z]>n))break;m+=b-(1<<y-d[z]),d[z]=n}for(m>>=w;m>0;){var M=a[s].s;d[M]<n?m-=1<<n-d[M]++-1:++s}for(;s>=0&&m;--s){var k=a[s].s;d[k]==n&&(--d[k],++m)}y=n}return{t:new i(d),l:y}},j=function(t,n,i){return-1==t.s?Math.max(j(t.l,n,i+1),j(t.r,n,i+1)):n[t.s]=i},F=function(t){for(var n=t.length;n&&!t[--n];);for(var i=new e(++n),r=0,s=t[0],o=1,a=function(t){i[r++]=t},h=1;h<=n;++h)if(t[h]==s&&h!=n)++o;else{if(!s&&o>2){for(;o>138;o-=138)a(32754);o>2&&(a(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(a(s),--o;o>6;o-=6)a(8304);o>2&&(a(o-3<<5|8208),o=0)}for(;o--;)a(s);o=1,s=t[h]}return{c:i.subarray(0,r),n:n}},G=function(t,n){for(var i=0,e=0;e<n.length;++e)i+=t[e]*n[e];return i},L=function(t,n,i){var e=i.length,r=q(n+2);t[r]=255&e,t[r+1]=e>>8,t[r+2]=255^t[r],t[r+3]=255^t[r+1];for(var s=0;s<e;++s)t[r+s+4]=i[s];return 8*(r+4+e)},Z=function(t,n,i,r,h,u,f,l,c,p,v){U(n,v++,i),++h[256];for(var d=_(h,15),y=d.t,m=d.l,k=_(u,15),S=k.t,C=k.l,A=F(y),T=A.c,q=A.n,D=F(S),E=D.c,O=D.n,I=new e(19),j=0;j<T.length;++j)++I[31&T[j]];for(j=0;j<E.length;++j)++I[31&E[j]];for(var Z=_(I,7),R=Z.t,B=Z.l,H=19;H>4&&!R[a[H-1]];--H);var P,W,Y,J,K=p+5<<3,N=G(h,b)+G(u,z)+f,Q=G(h,y)+G(u,S)+f+14+3*H+G(I,R)+2*I[16]+3*I[17]+7*I[18];if(c>=0&&K<=N&&K<=Q)return L(n,v,t.subarray(c,c+p));if(U(n,v,1+(Q<N)),v+=2,Q<N){P=w(y,m,0),W=y,Y=w(S,C,0),J=S;var V=w(R,B,0);U(n,v,q-257),U(n,v+5,O-1),U(n,v+10,H-4),v+=14;for(j=0;j<H;++j)U(n,v+3*j,R[a[j]]);v+=3*H;for(var X=[T,E],tt=0;tt<2;++tt){var nt=X[tt];for(j=0;j<nt.length;++j){var it=31&nt[j];U(n,v,V[it]),v+=R[it],it>15&&(U(n,v,nt[j]>>5&127),v+=nt[j]>>12)}}}else P=M,W=b,Y=x,J=z;for(j=0;j<l;++j){var et=r[j];if(et>255){$(n,v,P[(it=et>>18&31)+257]),v+=W[it+257],it>7&&(U(n,v,et>>23&31),v+=s[it]);var rt=31&et;$(n,v,Y[rt]),v+=J[rt],rt>3&&($(n,v,et>>5&8191),v+=o[rt])}else $(n,v,P[et]),v+=W[et]}return $(n,v,P[256]),v+W[256]},R=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),B=new i(0),H=function(t,n,a,h,u,f){var c=f.z||t.length,p=new i(h+c+5*(1+Math.ceil(c/7e3))+u),d=p.subarray(h,p.length-u),y=f.l,m=7&(f.r||0);if(n){m&&(d[0]=f.r>>3);for(var w=R[n-1],b=w>>13,z=8191&w,M=(1<<a)-1,k=f.p||new e(32768),x=f.h||new e(M+1),S=Math.ceil(a/3),C=2*S,A=function(n){return(t[n]^t[n+1]<<S^t[n+2]<<C)&M},T=new r(25e3),E=new e(288),O=new e(32),I=0,U=0,$=f.i||0,_=0,j=f.w||0,F=0;$+2<c;++$){var G=A($),B=32767&$,H=x[G];if(k[B]=H,x[G]=B,j<=$){var P=c-$;if((I>7e3||_>24576)&&(P>423||!y)){m=Z(t,d,0,T,E,O,U,_,F,$-F,m),_=I=U=0,F=$;for(var W=0;W<286;++W)E[W]=0;for(W=0;W<30;++W)O[W]=0}var Y=2,J=0,K=z,N=B-H&32767;if(P>2&&G==A($-N))for(var Q=Math.min(b,P)-1,V=Math.min(32767,$),X=Math.min(258,P);N<=V&&--K&&B!=H;){if(t[$+Y]==t[$+Y-N]){for(var tt=0;tt<X&&t[$+tt]==t[$+tt-N];++tt);if(tt>Y){if(Y=tt,J=N,tt>Q)break;var nt=Math.min(N,tt-2),it=0;for(W=0;W<nt;++W){var et=$-N+W&32767,rt=et-k[et]&32767;rt>it&&(it=rt,H=et)}}}N+=(B=H)-(H=k[B])&32767}if(J){T[_++]=268435456|l[Y]<<18|v[J];var st=31&l[Y],ot=31&v[J];U+=s[st]+o[ot],++E[257+st],++O[ot],j=$+Y,++I}else T[_++]=t[$],++E[t[$]]}}for($=Math.max($,j);$<c;++$)T[_++]=t[$],++E[t[$]];m=Z(t,d,y,T,E,O,U,_,F,$-F,m),y||(f.r=7&m|d[m/8|0]<<3,m-=7,f.h=x,f.p=k,f.i=$,f.w=j)}else{for($=f.w||0;$<c+y;$+=65535){var at=$+65535;at>=c&&(d[m/8|0]=y,at=c),m=L(d,m+1,t.subarray($,at))}f.i=c}return D(p,0,h+q(m)+u)},P=(function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var i=n,e=9;--e;)i=(1&i&&-306674912)^i>>>1;t[n]=i}return t})(),W=function(){var t=-1;return{p:function(n){for(var i=t,e=0;e<n.length;++e)i=P[255&i^n[e]]^i>>>8;t=i},d:function(){return~t}}},Y=function(){var t=1,n=0;return{p:function(i){for(var e=t,r=n,s=0|i.length,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)r+=e+=i[o];e=(65535&e)+15*(e>>16),r=(65535&r)+15*(r>>16)}t=e,n=r},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},J=function(t,n,e,r,s){if(!s&&(s={l:1},n.dictionary)){var o=n.dictionary.subarray(-32768),a=new i(o.length+t.length);a.set(o),a.set(t,o.length),t=a,s.w=o.length}return H(t,null==n.level?6:n.level,null==n.mem?s.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+n.mem,e,r,s)},K=function(t,n){var i={};for(var e in t)i[e]=t[e];for(var e in n)i[e]=n[e];return i},N=function(t,n,i){for(var e=t(),r=t.toString(),s=r.slice(r.indexOf('[')+1,r.lastIndexOf(']')).replace(/\s+/g,'').split(','),o=0;o<e.length;++o){var a=e[o],h=s[o];if('function'==typeof a){n+=';'+h+'=';var u=a.toString();if(a.prototype)if(-1!=u.indexOf('[native code]')){var f=u.indexOf(' ',8)+1;n+=u.slice(f,u.indexOf('(',f))}else for(var l in n+=u,a.prototype)n+=';'+h+'.prototype.'+l+'='+a.prototype[l].toString();else n+=u}else i[h]=a}return n},Q=[],V=function(t){var n=[];for(var i in t)t[i].buffer&&n.push((t[i]=new t[i].constructor(t[i])).buffer);return n},X=function(t,i,e,r){if(!Q[e]){for(var s='',o={},a=t.length-1,h=0;h<a;++h)s=N(t[h],s,o);Q[e]={c:N(t[a],s,o),e:o}}var u=K({},Q[e].e);return n(Q[e].c+';onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage='+i.toString()+'}',e,u,V(u),r)},tt=function(){return[i,e,r,s,o,a,f,p,k,S,d,E,w,C,A,T,q,D,O,I,xt,rt,st]},nt=function(){return[i,e,r,s,o,a,l,v,M,b,x,z,d,R,B,w,U,$,_,j,F,G,L,Z,q,D,H,J,zt,rt]},it=function(){return[pt,vt]},et=function(){return[yt]},rt=function(t){return postMessage(t,[t.buffer])},st=function(t){return t&&{out:t.size&&new i(t.size),dictionary:t.dictionary}},ot=function(t){return t.ondata=function(t,n){return postMessage([t,n],[t.buffer])},function(n){n.data.length?(t.push(n.data[0],n.data[1]),postMessage([n.data[0].length])):t.flush()}},at=function(t,n,i,e,r,s,o){var a,h=X(t,e,r,function(t,i){t?(h.terminate(),n.ondata.call(n,t)):Array.isArray(i)?1==i.length?(n.queuedSize-=i[0],n.ondrain&&n.ondrain(i[0])):(i[1]&&h.terminate(),n.ondata.call(n,t,i[0],i[1])):o(i)});h.postMessage(i),n.queuedSize=0,n.push=function(t,i){n.ondata||O(5),a&&n.ondata(O(4,0,1),null,!!i),n.queuedSize+=t.length,h.postMessage([t,a=i],[t.buffer])},n.terminate=function(){h.terminate()},s&&(n.flush=function(){h.postMessage([])})},ht=function(t,n){return t[n]|t[n+1]<<8},ut=function(t,n){return(t[n]|t[n+1]<<8|t[n+2]<<16|t[n+3]<<24)>>>0},ft=function(t,n){return ut(t,n)+4294967296*ut(t,n+4)},lt=function(t,n,i){for(;i;++n)t[n]=i,i>>>=8},ct=function(t,n){var i=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&lt(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),i){t[3]=8;for(var e=0;e<=i.length;++e)t[e+10]=i.charCodeAt(e)}},pt=function(t){31==t[0]&&139==t[1]&&8==t[2]||O(6,'invalid gzip data');var n=t[3],i=10;4&n&&(i+=2+(t[10]|t[11]<<8));for(var e=(n>>3&1)+(n>>4&1);e>0;e-=!t[i++]);return i+(2&n)},vt=function(t){var n=t.length;return(t[n-4]|t[n-3]<<8|t[n-2]<<16|t[n-1]<<24)>>>0},dt=function(t){return 10+(t.filename?t.filename.length+1:0)},gt=function(t,n){var i=n.level,e=0==i?0:i<6?1:9==i?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var r=Y();r.p(n.dictionary),lt(t,2,r.d())}},yt=function(t,n){return(8!=(15&t[0])||t[0]>>4>7||(t[0]<<8|t[1])%31)&&O(6,'invalid zlib data'),(t[1]>>5&1)==+!n&&O(6,'invalid zlib data: '+(32&t[1]?'need':'unexpected')+' dictionary'),2+(t[1]>>3&4)};function mt(t,n){return'function'==typeof t&&(n=t,t={}),this.ondata=n,t}var wt=(function(){function t(t,n){if('function'==typeof t&&(n=t,t={}),this.ondata=n,this.o=t||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new i(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return t.prototype.p=function(t,n){this.ondata(J(t,this.o,0,0,this.s),n)},t.prototype.push=function(t,n){this.ondata||O(5),this.s.l&&O(4);var e=t.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var r=new i(-32768&e);r.set(this.b.subarray(0,this.s.z)),this.b=r}var s=this.b.length-this.s.z;this.b.set(t.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(t.subarray(s),32768),this.s.z=t.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(t,this.s.z),this.s.z+=t.length;this.s.l=1&n,(this.s.z>this.s.w+8191||n)&&(this.p(this.b,n||!1),this.s.w=this.s.i,this.s.i-=2)},t.prototype.flush=function(){this.ondata||O(5),this.s.l&&O(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},t})(),bt=function(t,n){at([nt,function(){return[ot,wt]}],this,mt.call(this,t,n),function(t){var n=new wt(t.data);onmessage=ot(n)},6,1)};function zt(t,n){return J(t,n||{},0,0)}var Mt=(function(){function t(t,n){'function'==typeof t&&(n=t,t={}),this.ondata=n;var e=t&&t.dictionary&&t.dictionary.subarray(-32768);this.s={i:0,b:e?e.length:0},this.o=new i(32768),this.p=new i(0),e&&this.o.set(e)}return t.prototype.e=function(t){if(this.ondata||O(5),this.d&&O(4),this.p.length){if(t.length){var n=new i(this.p.length+t.length);n.set(this.p),n.set(t,this.p.length),this.p=n}}else this.p=t},t.prototype.c=function(t){this.s.i=+(this.d=t||!1);var n=this.s.b,i=I(this.p,this.s,this.o);this.ondata(D(i,n,this.s.b),this.d),this.o=D(i,this.s.b-32768),this.s.b=this.o.length,this.p=D(this.p,this.s.p/8|0),this.s.p&=7},t.prototype.push=function(t,n){this.e(t),this.c(n)},t})(),kt=function(t,n){at([tt,function(){return[ot,Mt]}],this,mt.call(this,t,n),function(t){var n=new Mt(t.data);onmessage=ot(n)},7,0)};function xt(t,n){return I(t,{i:2},n&&n.out,n&&n.dictionary)}!(function(){function t(t,n){this.c=W(),this.l=0,this.v=1,wt.call(this,t,n)}t.prototype.push=function(t,n){this.c.p(t),this.l+=t.length,wt.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var i=J(t,this.o,this.v&&dt(this.o),n&&8,this.s);this.v&&(ct(i,this.o),this.v=0),n&&(lt(i,i.length-8,this.c.d()),lt(i,i.length-4,this.l)),this.ondata(i,n)},t.prototype.flush=function(){wt.prototype.flush.call(this)}})();var St=(function(){function t(t,n){this.v=1,this.r=0,Mt.call(this,t,n)}return t.prototype.push=function(t,n){if(Mt.prototype.e.call(this,t),this.r+=t.length,this.v){var e=this.p.subarray(this.v-1),r=e.length>3?pt(e):4;if(r>e.length){if(!n)return}else this.v>1&&this.onmember&&this.onmember(this.r-e.length);this.p=e.subarray(r),this.v=0}Mt.prototype.c.call(this,n),!this.s.f||this.s.l||n||(this.v=q(this.s.p)+9,this.s={i:0},this.o=new i(0),this.push(new i(0),n))},t})(),Ct=function(t,n){var i=this;at([tt,it,function(){return[ot,Mt,St]}],this,mt.call(this,t,n),function(t){var n=new St(t.data);n.onmember=function(t){return postMessage(t)},onmessage=ot(n)},9,0,function(t){return i.onmember&&i.onmember(t)})},At=((function(){function t(t,n){this.c=Y(),this.v=1,wt.call(this,t,n)}t.prototype.push=function(t,n){this.c.p(t),wt.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var i=J(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(gt(i,this.o),this.v=0),n&&lt(i,i.length-4,this.c.d()),this.ondata(i,n)},t.prototype.flush=function(){wt.prototype.flush.call(this)}})(),(function(){function t(t,n){Mt.call(this,t,n),this.v=t&&t.dictionary?2:1}return t.prototype.push=function(t,n){if(Mt.prototype.e.call(this,t),this.v){if(this.p.length<6&&!n)return;this.p=this.p.subarray(yt(this.p,this.v-1)),this.v=0}n&&(this.p.length<4&&O(6,'invalid zlib data'),this.p=this.p.subarray(0,-4)),Mt.prototype.c.call(this,n)},t})()),Tt=function(t,n){at([tt,et,function(){return[ot,Mt,At]}],this,mt.call(this,t,n),function(t){var n=new At(t.data);onmessage=ot(n)},11,0)},qt=(function(){function t(t,n){this.o=mt.call(this,t,n)||{},this.G=St,this.I=Mt,this.Z=At}return t.prototype.i=function(){var t=this;this.s.ondata=function(n,i){t.ondata(n,i)}},t.prototype.push=function(t,n){if(this.ondata||O(5),this.s)this.s.push(t,n);else{if(this.p&&this.p.length){var e=new i(this.p.length+t.length);e.set(this.p),e.set(t,this.p.length)}else this.p=t;this.p.length>2&&(this.s=31==this.p[0]&&139==this.p[1]&&8==this.p[2]?new this.G(this.o):8!=(15&this.p[0])||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,n),this.p=null)}},t})(),Dt=((function(){function t(t,n){qt.call(this,t,n),this.queuedSize=0,this.G=Ct,this.I=kt,this.Z=Tt}t.prototype.i=function(){var t=this;this.s.ondata=function(n,i,e){t.ondata(n,i,e)},this.s.ondrain=function(n){t.queuedSize-=n,t.ondrain&&t.ondrain(n)}},t.prototype.push=function(t,n){this.queuedSize+=t.length,qt.prototype.push.call(this,t,n)}})(),'undefined'!=typeof TextEncoder&&new TextEncoder),Et='undefined'!=typeof TextDecoder&&new TextDecoder,Ot=0;try{Et.decode(B,{stream:!0}),Ot=1}catch(t){}var It=function(t){for(var n='',i=0;;){var e=t[i++],r=(e>127)+(e>223)+(e>239);if(i+r>t.length)return{s:n,r:D(t,i-1)};r?3==r?(e=((15&e)<<18|(63&t[i++])<<12|(63&t[i++])<<6|63&t[i++])-65536,n+=String.fromCharCode(55296|e>>10,56320|1023&e)):n+=1&r?String.fromCharCode((31&e)<<6|63&t[i++]):String.fromCharCode((15&e)<<12|(63&t[i++])<<6|63&t[i++]):n+=String.fromCharCode(e)}};(function(){function t(t){this.ondata=t,Ot?this.t=new TextDecoder:this.p=B}t.prototype.push=function(t,n){if(this.ondata||O(5),n=!!n,this.t)return this.ondata(this.t.decode(t,{stream:!0}),n),void(n&&(this.t.decode().length&&O(8),this.t=null));this.p||O(4);var e=new i(this.p.length+t.length);e.set(this.p),e.set(t,this.p.length);var r=It(e),s=r.s,o=r.r;n?(o.length&&O(8),this.p=null):this.p=o,this.ondata(s,n)}})(),(function(){function t(t){this.ondata=t}t.prototype.push=function(t,n){this.ondata||O(5),this.d&&O(4),this.ondata(Ut(t),this.d=n||!1)}})();function Ut(t,n){if(n){for(var e=new i(t.length),r=0;r<t.length;++r)e[r]=t.charCodeAt(r);return e}if(Dt)return Dt.encode(t);var s=t.length,o=new i(t.length+(t.length>>1)),a=0,h=function(t){o[a++]=t};for(r=0;r<s;++r){if(a+5>o.length){var u=new i(a+8+(s-r<<1));u.set(o),o=u}var f=t.charCodeAt(r);f<128||n?h(f):f<2048?(h(192|f>>6),h(128|63&f)):f>55295&&f<57344?(h(240|(f=65536+(1047552&f)|1023&t.charCodeAt(++r))>>18),h(128|f>>12&63),h(128|f>>6&63),h(128|63&f)):(h(224|f>>12),h(128|f>>6&63),h(128|63&f))}return D(o,0,a)}function $t(t,n){if(n){for(var i='',e=0;e<t.length;e+=16384)i+=String.fromCharCode.apply(null,t.subarray(e,e+16384));return i}if(Et)return Et.decode(t);var r=It(t),s=r.s;return(i=r.r).length&&O(8),s}var _t=function(t){return 1==t?3:t<6?2:9==t?1:0},jt=function(t,n){for(;1!=ht(t,n);n+=4+ht(t,n+2));return[ft(t,n+12),ft(t,n+4),ft(t,n+20)]},Ft=function(t){var n=0;if(t)for(var i in t){var e=t[i].length;e>65535&&O(9),n+=e+4}return n},Gt=function(t,n,i,e,r,s,o,a){var h=e.length,u=i.extra,f=a&&a.length,l=Ft(u);lt(t,n,null!=o?33639248:67324752),n+=4,null!=o&&(t[n++]=20,t[n++]=i.os),t[n]=20,n+=2,t[n++]=i.flag<<1|(s<0&&8),t[n++]=r&&8,t[n++]=255&i.compression,t[n++]=i.compression>>8;var c=new Date(null==i.mtime?Date.now():i.mtime),p=c.getFullYear()-1980;if((p<0||p>119)&&O(10),lt(t,n,p<<25|c.getMonth()+1<<21|c.getDate()<<16|c.getHours()<<11|c.getMinutes()<<5|c.getSeconds()>>1),n+=4,-1!=s&&(lt(t,n,i.crc),lt(t,n+4,s<0?-s-2:s),lt(t,n+8,i.size)),lt(t,n+12,h),lt(t,n+14,l),n+=16,null!=o&&(lt(t,n,f),lt(t,n+6,i.attrs),lt(t,n+10,o),n+=14),t.set(e,n),n+=h,l)for(var v in u){var d=u[v],y=d.length;lt(t,n,+v),lt(t,n+2,y),t.set(d,n+4),n+=4+y}return f&&(t.set(a,n),n+=f),n},Lt=(function(){function t(t){this.filename=t,this.c=W(),this.size=0,this.compression=0}return t.prototype.process=function(t,n){this.ondata(null,t,n)},t.prototype.push=function(t,n){this.ondata||O(5),this.c.p(t),this.size+=t.length,n&&(this.crc=this.c.d()),this.process(t,n||!1)},t})(),Zt=((function(){function t(t,n){var i=this;n||(n={}),Lt.call(this,t),this.d=new wt(n,function(t,n){i.ondata(null,t,n)}),this.compression=8,this.flag=_t(n.level)}t.prototype.process=function(t,n){try{this.d.push(t,n)}catch(t){this.ondata(t,null,n)}},t.prototype.push=function(t,n){Lt.prototype.push.call(this,t,n)}})(),(function(){function t(t,n){var i=this;n||(n={}),Lt.call(this,t),this.d=new bt(n,function(t,n,e){i.ondata(t,n,e)}),this.compression=8,this.flag=_t(n.level),this.terminate=this.d.terminate}t.prototype.process=function(t,n){this.d.push(t,n)},t.prototype.push=function(t,n){Lt.prototype.push.call(this,t,n)}})(),(function(){function t(t){this.ondata=t,this.u=[],this.d=1}t.prototype.add=function(t){var n=this;if(this.ondata||O(5),2&this.d)this.ondata(O(4+8*(1&this.d),0,1),null,!1);else{var e=Ut(t.filename),r=e.length,s=t.comment,o=s&&Ut(s),a=r!=t.filename.length||o&&s.length!=o.length,h=r+Ft(t.extra)+30;r>65535&&this.ondata(O(11,0,1),null,!1);var u=new i(h);Gt(u,0,t,e,a,-1);var f=[u],l=function(){for(var t=0,i=f;t<i.length;t++){var e=i[t];n.ondata(null,e,!1)}f=[]},c=this.d;this.d=0;var p=this.u.length,v=K(t,{f:e,u:a,o:o,t:function(){t.terminate&&t.terminate()},r:function(){if(l(),c){var t=n.u[p+1];t?t.r():n.d=1}c=1}}),d=0;t.ondata=function(e,r,s){if(e)n.ondata(e,r,s),n.terminate();else if(d+=r.length,f.push(r),s){var o=new i(16);lt(o,0,134695760),lt(o,4,t.crc),lt(o,8,d),lt(o,12,t.size),f.push(o),v.c=d,v.b=h+d+16,v.crc=t.crc,v.size=t.size,c&&v.r(),c=1}else c&&l()},this.u.push(v)}},t.prototype.end=function(){var t=this;2&this.d?this.ondata(O(4+8*(1&this.d),0,1),null,!0):(this.d?this.e():this.u.push({r:function(){1&t.d&&(t.u.splice(-1,1),t.e())},t:function(){}}),this.d=3)},t.prototype.e=function(){for(var t=0,n=0,e=0,r=0,s=this.u;r<s.length;r++){e+=46+(v=s[r]).f.length+Ft(v.extra)+(v.o?v.o.length:0)}for(var o,a,h,u,f,l=new i(e+22),c=0,p=this.u;c<p.length;c++){var v=p[c];Gt(l,t,v,v.f,v.u,-v.c-2,n,v.o),t+=46+v.f.length+Ft(v.extra)+(v.o?v.o.length:0),n+=v.b}o=l,a=t,h=this.u.length,u=e,f=n,lt(o,a,101010256),lt(o,a+8,h),lt(o,a+10,h),lt(o,a+12,u),lt(o,a+16,f),this.ondata(null,l,!0),this.d=2},t.prototype.terminate=function(){for(var t=0,n=this.u;t<n.length;t++){n[t].t()}this.d=2}})(),(function(){function t(){}return t.prototype.push=function(t,n){this.ondata(null,t,n)},t.compression=0,t})());(function(){function t(){var t=this;this.i=new Mt(function(n,i){t.ondata(null,n,i)})}t.prototype.push=function(t,n){try{this.i.push(t,n)}catch(t){this.ondata(t,null,n)}},t.compression=8})(),(function(){function t(t,n){var i=this;n<32e4?this.i=new Mt(function(t,n){i.ondata(null,t,n)}):(this.i=new kt(function(t,n,e){i.ondata(t,n,e)}),this.terminate=this.i.terminate)}t.prototype.push=function(t,n){this.i.terminate&&(t=D(t,0)),this.i.push(t,n)},t.compression=8})(),(function(){function t(t){this.onfile=t,this.k=[],this.o={0:Zt},this.p=B}t.prototype.push=function(t,n){var e=this;if(this.onfile||O(5),this.p||O(4),this.c>0){var r=Math.min(this.c,t.length),s=t.subarray(0,r);if(this.c-=r,this.d?this.d.push(s,!this.c):this.k[0].push(s),(t=t.subarray(r)).length)return this.push(t,n)}else{var o=0,a=0,h=void 0,u=void 0;this.p.length?t.length?((u=new i(this.p.length+t.length)).set(this.p),u.set(t,this.p.length)):u=this.p:u=t;for(var f=u.length,l=this.c,c=l&&this.d,p=function(){var t,n=ut(u,a);if(67324752==n){o=1,h=a,v.d=null,v.c=0;var i=ht(u,a+6),r=ht(u,a+8),s=2048&i,c=8&i,p=ht(u,a+26),d=ht(u,a+28);if(f>a+30+p+d){var y=[];v.k.unshift(y),o=2;var m,w=ut(u,a+18),b=ut(u,a+22),z=$t(u.subarray(a+30,a+=30+p),!s);4294967295==w?(t=c?[-2]:jt(u,a),w=t[0],b=t[1]):c&&(w=-1),a+=d,v.c=w;var M={name:z,compression:r,start:function(){if(M.ondata||O(5),w){var t=e.o[r];t||M.ondata(O(14,'unknown compression type '+r,1),null,!1),(m=w<0?new t(z):new t(z,w,b)).ondata=function(t,n,i){M.ondata(t,n,i)};for(var n=0,i=y;n<i.length;n++){var s=i[n];m.push(s,!1)}e.k[0]==y&&e.c?e.d=m:m.push(B,!0)}else M.ondata(null,B,!0)},terminate:function(){m&&m.terminate&&m.terminate()}};w>=0&&(M.size=w,M.originalSize=b),v.onfile(M)}return"break"}if(l){if(134695760==n)return h=a+=12+(-2==l&&8),o=3,v.c=0,"break";if(33639248==n)return h=a-=4,o=3,v.c=0,"break"}},v=this;a<f-4;++a){if("break"===p())break}if(this.p=B,l<0){var d=o?u.subarray(0,h-12-(-2==l&&8)-(134695760==ut(u,h-16)&&4)):u.subarray(0,a);c?c.push(d,!!o):this.k[+(2==o)].push(d)}if(2&o)return this.push(u.subarray(a),n);this.p=u.subarray(a)}n&&(this.c&&O(13),this.p=null)},t.prototype.register=function(t){this.o[t.compression]=t}})(),'function'==typeof queueMicrotask?queueMicrotask:'function'==typeof setTimeout&&setTimeout},"455c17",[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=function(n){return n=n||Object.create(null),{on:function(t,u){(n[t]||(n[t]=[])).push(u)},off:function(t,u){n[t]&&n[t].splice(n[t].indexOf(u)>>>0,1)},emit:function(t,u){(n[t]||[]).slice().map(function(n){n(u)}),(n['*']||[]).slice().map(function(n){n(t,u)})}}}},"509b43",[]);
__d(function(g,r,i,a,m,e,d){"use strict";var n=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,s){const[c,l]=(0,t.useState)(!0),[f,p]=(0,t.useState)(null),[y,F]=(0,t.useState)(null),v=(0,t.useRef)(null),h=(0,t.useRef)(null),{src:C,isLooping:b,autoplay:L,reverse:S,startFrame:w,endFrame:E,prefersMotion:R,onPlayStateChange:k,onStopped:M,onLoaded:P,onReversedChange:T,onLoopingChange:_}=s,A=(0,t.useRef)({isLooping:b,autoplay:L,reverse:S,startFrame:w,endFrame:E,prefersMotion:R,onPlayStateChange:k,onStopped:M,onLoaded:P,onReversedChange:T,onLoopingChange:_});A.current={isLooping:b,autoplay:L,reverse:S,startFrame:w,endFrame:E,prefersMotion:R,onPlayStateChange:k,onStopped:M,onLoaded:P,onReversedChange:T,onLoopingChange:_};const B=(0,t.useCallback)(n=>{A.current.onPlayStateChange?.(n.isPlaying)},[]),U=(0,t.useCallback)(n=>{const t=n instanceof Error?n.message:'Unknown error occurred';p(t),l(!1)},[]),$=(0,t.useCallback)(()=>{A.current.onStopped?.()},[]),j=(0,t.useCallback)(n=>{A.current.onLoaded?.(n)},[]);return(0,t.useEffect)(()=>{if(!n.current||!C)return;if(v.current&&v.current.loaded&&h.current===C)return void l(!1);const t=n.current;let s=!0;const c=(0,o().createBrowserFetch)(),f=new AbortController;return(async()=>{try{l(!0),p(null);const n=await c(C,{signal:f.signal});if(!n.ok)throw new Error(`Failed to fetch .lava file: ${n.status} ${n.statusText}`);const o=await n.arrayBuffer(),y=new Uint8Array(o);if(!s)return;let b;try{b=new u.default(t,{loop:A.current.isLooping??!1,reverse:A.current.reverse??!1,startFrame:A.current.startFrame??1,endFrame:A.current.endFrame??1}),b.on('playStateChange',B),b.on('stopped',$),b.on('loaded',j),b.on('error',U)}catch(n){const t=n instanceof Error?n.message:'Failed to initialize player';return p(t),void l(!1)}if(v.current=b,F(b),await b.loadFromBinary(y),!s)return void b.destroy();b.loaded?(h.current=C,l(!1)):(p('Failed to load lava animation data'),l(!1)),A.current.autoplay&&b.loaded&&b.play(),!1===R&&b.setReducedMotionMode(!0);const L=setTimeout(()=>{b&&!b.loaded&&s&&b.fallbackToLastFrame()},3e4);b.loadingFailsafeTimeout=L}catch(n){if(n instanceof Error&&'AbortError'===n.name)return;if(s){const t=n instanceof Error?n.message:'Unknown error occurred';p(t),l(!1)}}})(),()=>{if(s=!1,f.abort(),v.current){const n=v.current.loadingFailsafeTimeout;n&&clearTimeout(n),v.current.destroy(),v.current=null}h.current=null}},[n,C,R,E,B,$,j,U]),(0,t.useEffect)(()=>{if(!v.current)return;const n=v.current;'boolean'==typeof b&&(n.loop=b,A.current.onLoopingChange?.(b)),'boolean'==typeof S&&(n.reverse=S,A.current.onReversedChange?.(S)),'number'==typeof w&&(n.startFrame=w),'number'==typeof E&&(n.endFrame=E),'boolean'==typeof R&&n.setReducedMotionMode(!R)},[b,S,w,E,R]),(0,t.useEffect)(()=>{v.current&&v.current.loaded&&(L?v.current.play():v.current.pause())},[L]),{loading:c,error:f,player:y}};var t=r(d[1]);function o(){const n=r(d[2]);return o=function(){return n},n}var u=n(r(d[3]))},"cde122",["ba7a76","07aa1f","dcca7a","fc3599"]);
__d(function(g,r,_i,a,m,e,d){"use strict";function t(){const n=r(d[0]);return t=function(){return n},n}Object.defineProperty(e,"__esModule",{value:!0}),e.LavaFileDecoder=void 0;const n='Invalid file format',s='Missing required chunk',i='Invalid chunk data',o='Invalid frame list',c='Invalid frame type',l='Invalid key frame',u='Invalid diff frame',f='Invalid diff descriptor',h='Unknown image format';class p{constructor(t){this.data=void 0,this.offset=0,this.data=t}get remaining(){return this.data.length-this.offset}get isEmpty(){return this.remaining<=0}getRemainingData(){return this.data.slice(this.offset)}peekBytes(t){return this.remaining<t?null:this.data.slice(this.offset,this.offset+t)}peekCharacters(t){const n=this.peekBytes(t);return n?new TextDecoder('ascii').decode(n):null}peekFourCC(){return this.peekCharacters(4)}parseBytes(t){const n=this.peekBytes(t);return n?(this.offset+=t,n):null}parseUInt8(){const t=this.parseBytes(1);return t?t[0]:null}parseUInt16(){const t=this.parseBytes(2);return t?t[0]+256*t[1]:null}parseUInt24(){const t=this.parseBytes(3);return t?t[0]+256*t[1]+65536*t[2]:null}parseUInt32(){const t=this.parseBytes(4);return t?t[0]+256*t[1]+65536*t[2]+16777216*t[3]:null}parseCharacters(t){const n=this.parseBytes(t);return n?new TextDecoder('ascii').decode(n):null}parseFourCC(){return this.parseCharacters(4)}parseRIFFHeader(){const t=this.parseFourCC();if(!t||'RIFF'!==t)return null;const n=this.parseUInt32();if(null===n)return null;const s=this.parseFourCC();return s?{id:t,size:n,format:s}:null}parseRIFFChunk(){if(this.remaining<8)return null;const t=this.peekFourCC();if(!t)return null;this.parseBytes(4);const n=this.parseUInt32();if(null===n)return null;if(this.remaining<n)throw new Error(i);const s=n%2!=0;if(s&&this.remaining<n+1)throw new Error(i);const o=this.parseBytes(n);if(!o)throw new Error(i);if(s){const t=this.parseUInt8();if(null===t||0!==t)throw new Error(i)}return{id:t,size:n,data:o}}}class w{constructor(t){this.data=void 0,this.data=t}async decode(){const t=new p(this.data),o=this.data.length,c=t.parseRIFFHeader();if(!c||'RIFF'!==c.id||'LAVA'!==c.format||c.size!==o-8)throw new Error(n);const l={animationHeader:null,frames:[],markers:[],images:[]};for(;!t.isEmpty;)try{const n=t.parseRIFFChunk();if(!n)break;switch(n.id){case'ANIM':l.animationHeader=w.decodeAnimationHeader(n.data);break;case'MARK':l.markers=w.decodeMarkers(n.data);break;case'FRAM':l.frames=await w.decodeFrames(n.data);break;case'IMG ':{const t=w.decodeImageData(n.data);l.images.push(t);break}}}catch(t){if(t instanceof Error&&t.message===i)throw t;break}if(!l.animationHeader)throw new Error(`${s}: ANIM`);return{manifest:w.createManifest(l.animationHeader,l.frames,l.markers,l.images.length),images:l.images}}static decodeAnimationHeader(t){const n=new p(t),s=n.parseUInt8(),i=n.parseUInt24(),o=n.parseUInt24(),c=n.parseUInt24(),l=n.parseUInt24(),u=n.parseUInt16();if(null===s||null===i||null===o||null===c||null===l||null===u)return null;return{alpha:s%2!=0,width:i,height:o,cellSize:c,diffImageSize:l,fps:u}}static decodeMarkers(t){const n=new p(t),s=[],i=n.parseUInt32();if(null===i)return s;for(let t=0;t<i;t++){const t=n.parseUInt16();if(null===t)break;const i=n.parseBytes(t);if(!i)break;const o=n.parseUInt32();if(null===o)break;const c=new TextDecoder('utf-8').decode(i);s.push({name:c,frameIndex:o})}return s}static async decodeFrames(t){const n=new p(t),s=n.parseUInt8(),i=n.parseUInt24();if(null===s||null===i)throw new Error(o);const l=n.getRemainingData(),u=await w.decompressZlib(l),f=new p(u),h=[];for(;!f.isEmpty;){const t=f.peekCharacters(1);if(!t)break;switch(t){case'K':{const t=w.decodeKeyframe(f);h.push({type:'key',frame:t});break}case'D':{const t=w.decodeDiffFrame(f);h.push({type:'diff',frame:t});break}default:throw new Error(c)}}return h}static decodeKeyframe(t){if('K'!==t.parseCharacters(1))throw new Error(c);const n=t.parseUInt24();if(null===n)throw new Error(l);return{imageIndex:n}}static decodeDiffFrame(t){if('D'!==t.parseCharacters(1))throw new Error(c);const n=t.parseUInt24();if(null===n)throw new Error(u);const s=[];for(let i=0;i<n;i++){const n=t.parseUInt8(),i=t.parseUInt24(),o=t.parseUInt24(),c=t.parseUInt24(),l=t.parseUInt24(),u=t.parseUInt24();if(null===n||null===i||null===o||null===c||null===l||null===u)throw new Error(f);s.push([i,o,c,l,u])}return{diffs:s}}static decodeImageData(t){const n=new p(t),s=n.peekBytes(4);if(!s)throw new Error(h);if('AVIF'===new TextDecoder('ascii',{fatal:!1}).decode(s)){n.parseFourCC();return n.getRemainingData()}return t}static createManifest(t,n,s=[],i=0){const o=[];for(let t=0;t<i;t++)o.push(`image_${t}.avif`);return{version:1,fps:t.fps,cellSize:t.cellSize,diffImageSize:t.diffImageSize,width:t.width,height:t.height,density:1,alpha:t.alpha,images:o,frames:n,markers:s,imageCount:i,frameCount:n.length}}static async decompressZlib(n){try{return(0,t().inflateSync)(n)}catch(t){throw new Error(`Zlib decompression failed: ${t instanceof Error?t.message:'Unknown error'}`)}}}e.LavaFileDecoder=w},"e4e03e",["455c17"]);
__d(function(g,r,i,_a,m,e,d){"use strict";var t=r(d[0]).default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=t(r(d[1]));class a extends s.default{constructor(t,s){super(t,s),this.isPlayingState=!1,this.animationFrameId=null,this.lastFrameTime=0,this.reducedMotionMode=!1,this.maxFrameSkip=2,this.performanceMode='auto',this.performanceMetrics={frameRenderTimes:[],droppedFrames:0,averageFrameTime:0,lastPerformanceCheck:0,adaptiveQuality:!0,renderFailureCount:0,consecutiveSlowFrames:0,lastRenderAttempt:0},this.emergencyFallbackTimeout=null,this.hasPerformanceIssues=!1,this.onLoaded=()=>{this.isPlayingState&&(this.isPlayingState=!1,this.play())},this.onStopped=()=>{this.isPlayingState&&this.pause(),this.emitter.emit('playStateChange',this)},setTimeout(()=>{this.on('loaded',this.onLoaded),this.on('stopped',this.onStopped)},0)}get isPlaying(){return this.isPlayingState}play(){if(this.isPlayingState)return;if(this.reducedMotionMode)return;if(this.isPlayingState=!0,!this.loaded||!this.manifest)return;this.loop||(!this.reverse&&this.currentFrame>=this.endFrame||this.reverse&&this.currentFrame<=this.startFrame)&&(this.currentFrame=this.reverse?this.endFrame:this.startFrame),this.emitter.emit('playStateChange',this),this.lastFrameTime=performance.now();const t=1e3/this.manifest.fps,s=a=>{if(!this.isPlayingState)return void(this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null));const n=performance.now(),h=a-this.lastFrameTime,o=Math.floor(h/t);if(o>1&&'auto'===this.performanceMode){const s=Math.min(o-1,this.maxFrameSkip),n=s*(this.reverse?-1:1);let c=this.currentFrame+n;if(!this.loop)if(this.reverse){if(c<this.startFrame)return c=this.startFrame,this.currentFrame=c,this.pause(),void this.emitter.emit('stopped',this)}else if(c>this.endFrame)return c=this.endFrame,this.currentFrame=c,this.pause(),void this.emitter.emit('stopped',this);this.currentFrame=c,this.performanceMetrics.droppedFrames+=s,this.lastFrameTime=a-h%t}else if(h>=t){const s=this.currentFrame+(this.reverse?-1:1);if(!this.loop&&(!this.reverse&&s>this.endFrame||this.reverse&&s<this.startFrame))return this.currentFrame=this.reverse?this.startFrame:this.endFrame,this.pause(),void this.emitter.emit('stopped',this);this.currentFrame=s,this.lastFrameTime=a-h%t}this.trackFramePerformance(n),this.animationFrameId=requestAnimationFrame(s)};this.animationFrameId=requestAnimationFrame(s)}pause(){this.isPlayingState&&(this.isPlayingState=!1,this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.emitter.emit('playStateChange',this))}setFrameRange(t,s){t<1&&(t=1),s>this.totalFrames&&(s=this.totalFrames),t>s&&(t=s),this.startFrame=t,this.endFrame=s,(this.currentFrame<t||this.currentFrame>s)&&(this.currentFrame=t)}setFrame(t){if(t<1&&(t=1),t>this.totalFrames&&(t=this.totalFrames),this.reducedMotionMode){const t=this.endFrame;return void(this.currentFrame=t)}this.currentFrame=t}setReducedMotionMode(t){if(this.reducedMotionMode=t,t&&this.loaded){const t=this.endFrame;this.currentFrame=t}}reversePlay(){this.reverse=!0,this.currentFrame<=this.startFrame&&(this.currentFrame=this.endFrame),this.play()}trackFramePerformance(t){if(!this.manifest)return;const s=performance.now()-t,a=1e3/this.manifest.fps;if(this.performanceMetrics.frameRenderTimes.push(s),this.performanceMetrics.lastRenderAttempt=performance.now(),s>2*a?this.performanceMetrics.consecutiveSlowFrames++:this.performanceMetrics.consecutiveSlowFrames=0,this.performanceMetrics.frameRenderTimes.length>60&&this.performanceMetrics.frameRenderTimes.shift(),this.performanceMetrics.frameRenderTimes.length%30==0){const t=this.performanceMetrics.frameRenderTimes.reduce((t,s)=>t+s,0);this.performanceMetrics.averageFrameTime=t/this.performanceMetrics.frameRenderTimes.length;const s=this.performanceMetrics.averageFrameTime>3*a,n=this.performanceMetrics.consecutiveSlowFrames>10,h=this.performanceMetrics.droppedFrames>30;this.hasPerformanceIssues=s||n||h,this.performanceMetrics.adaptiveQuality&&'auto'===this.performanceMode&&(this.performanceMetrics.averageFrameTime>1.5*a?this.maxFrameSkip=Math.min(this.maxFrameSkip+1,5):this.performanceMetrics.averageFrameTime<.8*a&&(this.maxFrameSkip=Math.max(this.maxFrameSkip-1,0)))}}getPerformanceMetrics(){return{averageFrameTime:this.performanceMetrics.averageFrameTime,droppedFrames:this.performanceMetrics.droppedFrames,maxFrameSkip:this.maxFrameSkip,performanceMode:this.performanceMode}}setPerformanceMode(t){this.performanceMode=t,'quality'===t?(this.maxFrameSkip=0,this.performanceMetrics.adaptiveQuality=!1):'performance'===t?(this.maxFrameSkip=5,this.performanceMetrics.adaptiveQuality=!1):(this.maxFrameSkip=2,this.performanceMetrics.adaptiveQuality=!0)}handleRenderError(t){this.performanceMetrics.renderFailureCount++,(this.performanceMetrics.renderFailureCount>=3||this.hasPerformanceIssues)&&this.triggerEmergencyFallback(),this.emitter.emit('error',t)}triggerEmergencyFallback(){!this.emergencyFallbackTimeout&&this.loaded&&this.manifest&&(this.emergencyFallbackTimeout=window.setTimeout(()=>{if(this.isPlayingState&&(this.hasPerformanceIssues||this.performanceMetrics.renderFailureCount>=3)){const t=this.reverse?this.startFrame:this.endFrame;this.currentFrame=t,this.pause(),this.emitter.emit('stopped',this)}this.emergencyFallbackTimeout=null},1e4))}fallbackToLastFrame(){if(!this.loaded||!this.manifest)return;const t=this.reverse?this.startFrame:this.endFrame;this.currentFrame=t,this.renderFrame(t),this.isPlayingState&&(this.pause(),this.emitter.emit('stopped',this))}destroy(){this.emergencyFallbackTimeout&&(clearTimeout(this.emergencyFallbackTimeout),this.emergencyFallbackTimeout=null),super.destroy()}}e.default=a},"fc3599",["ba7a76","2cf1e5"]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/web/common/3369.3b0fc1688f.js.map